[id="proc-techdocs-using-odf-storage_{context}"]

= Using {odf-name} for file storage

Instead of just relaying on cloud storage like Google GCS, AWS S3, or Azure Blob Storage, you can configure OpenShift Data Foundation to store the files that TechDocs generates.

{odf-name} provides a `ObjectBucketClaim` custom resource (CR) that you can use to request an S3 compatible bucket backend. You must install the {odf-name} Operator to use this feature.

.Additional resources

* For more information about the Object Bucket Claim, see link:https://access.redhat.com/documentation/en-us/red_hat_openshift_data_foundation/4.12/html/managing_hybrid_and_multicloud_resources/object-bucket-claim#doc-wrapper[Object Bucket Claim] in the {ocp-short} documentation.


.Prerequisites

* An {ocp-short} administrator has installed the {odf-name} Operator in {ocp-brand-name}. For more information, see link:https://access.redhat.com/documentation/en-us/red_hat_openshift_data_foundation/4.15/html/deploying_openshift_data_foundation_using_amazon_web_services/deploy-using-dynamic-storage-devices-aws#installing-openshift-data-foundation-operator-using-the-operator-hub_cloud-storage[Installing {company-name} {odf-name} Operator] in the {ocp-short} documentation.
* An {ocp-short} administrator has created an {odf-name} cluster and configured the `StorageSystem`. For more information, see link:https://access.redhat.com/documentation/en-us/red_hat_openshift_data_foundation/4.15/html/deploying_openshift_data_foundation_using_amazon_web_services/deploy-using-dynamic-storage-devices-aws#creating-an-openshift-data-foundation-service_cloud-storage[Creating an {odf-name} cluster] in the {ocp-short} documentation.

.Procedure

. In the OpenShift Container Platform web console, create an `ObjectBucketClaim` CR where the generated TechDocs files are stored. For example:
+
[source]
----
apiVersion: objectbucket.io/v1alpha1
kind: ObjectBucketClaim
metadata:
  name: rhdh-bucket-claim
spec:
  generateBucketName: rhdh-bucket-
  storageClassName: openshift-storage.noobaa.io
----
+
[NOTE]
====
Creating the {product-short} `ObjectBucketClaim` CR automatically creates ConfigMap and Secret. The ConfigMap and Secret have the same name as the `ObjetBucketClaim` CR.
====
